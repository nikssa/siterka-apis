// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

enum Role {
  admin
  moderator
  parent
  sitter
}

enum Gender {
  male
  female
  other
}

enum Age {
  EighteenToTwentyFive
  TwentyFiveToForty
  FortyToFiftyFive
  FiftyFiveToSixtyFive
  OverSixtyFive
}

enum ChildAge {
  NEWBORNS // 0-2 months
  INFANTS // 3-12 months
  TODDLERS // 1-2 years
  PRESCHOOLERS // 3-6 years
  SCHOOLERS // 7-12 years
  TEENS // 13-19 years
}

enum Education {
  PRIMARY_SCHOOL
  SECONDARY_SCHOOL
  UNIVERSITY_DEGREE
  BACHELORS_DEGREE
  MASTERS_DEGREE
  DOCTORAL_DEGREE
}

enum Languages {
  ENGLISH
  GERMAN
  FRANCH
  ITALIAN
  SPANISH
  RUSSIAN
  OTHERS
}

enum EarningsRate {
  HOURLY
  DAILY
  MONTHLY
}

model User {
  id          Int      @id @default(autoincrement())
  email       String   @unique
  name        String   @unique
  password    String
  role        Role     @default(sitter)
  acceptTerms Boolean
  createdAt   DateTime @default(now())
  membership  Boolean  @default(false)
  active      Boolean  @default(false)
  deleted     Boolean  @default(false)
  post        Post?
  profile     Profile?
  photos      Photo?
}

model Profile {
  id        Int      @id @default(autoincrement())
  firstName String
  lastName  String
  gender    Gender
  bio       String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  user      User     @relation(fields: [userId], references: [id])
  userId    Int      @unique
}

model Post {
  id                Int          @id @default(autoincrement())
  createdAt         DateTime     @default(now())
  updatedAt         DateTime     @updatedAt
  title             String       @db.VarChar(255)
  description       String?
  birthDate         DateTime //date picker
  contry            String //dropdown
  city              String //dropdown country sensitive
  experience        Int // years or months
  childAgeGroup     ChildAge
  numberOfChildren  Int
  pets              Boolean
  specialNeeds      Boolean
  inOwnHouse        Boolean
  cleaning          Boolean
  cleaningChildOnly Boolean
  shopping          Boolean
  cooking           Boolean
  cookingChildOnly  Boolean
  outWithChild      Boolean
  car               Boolean
  driversLicense    Boolean
  smoking           Boolean
  education         Education
  sitterCourse      Boolean
  firstAid          Boolean
  languages         Languages
  otherLanguages    String
  earnings          Int
  earningsRate      EarningsRate

  photos    Photo[]
  photosId  Int     @unique
  cell      Int
  mail      String
  age       Age
  published Boolean @default(false)
  author    User    @relation(fields: [authorId], references: [id])
  authorId  Int     @unique
}

model Photo {
  id       Int    @id @default(autoincrement())
  url      String
  author   User?  @relation(fields: [authorId], references: [id])
  authorId Int    @unique
  post     Post?  @relation(fields: [postId], references: [id])
  postId   Int
}
